<ion-content class="speaker-content">
  <ng-container *ngIf="speaker$ | async as speaker; else loading">
    <ion-icon
      *ngIf="!showClose"
      class="swipe"
      src="assets/swipe-handle.svg"
    ></ion-icon>

    <ion-buttons *ngIf="showClose" id="close-button">
      <ion-button color="dark" (click)="modalController.dismiss()">
        <ion-icon name="close-circle" size="large"></ion-icon>
      </ion-button>
    </ion-buttons>

    <app-speaker-card [id]="id"></app-speaker-card>

    <div class="details">
      <h2 class="eas-header-large">About {{ speaker.firstName }}</h2>
      <ion-text>{{ speaker.biography }}</ion-text>
      <br /><br />

      <h2 class="eas-header-large">Connect with {{ speaker.firstName }}</h2>
      <div class="social-btns">
        <ion-button
          color="light"
          class="connect-button"
          (click)="openLink(speaker.linkedin)"
          *ngIf="speaker.linkedin"
        >
          <ion-icon
            [src]="
              'assets/icon/linkedin' +
              (themeService.isDark ? '-dark' : '') +
              '.svg'
            "
          ></ion-icon>
        </ion-button>

        <ion-button
          color="light"
          class="connect-button"
          (click)="openLink(speaker.github)"
          *ngIf="speaker.github"
        >
          <ion-icon
            [src]="
              'assets/icon/github' +
              (themeService.isDark ? '-dark' : '') +
              '.svg'
            "
          ></ion-icon>
        </ion-button>

        <ion-button
          color="light"
          class="connect-button"
          (click)="openLink(speaker.twitter)"
          *ngIf="speaker.twitter"
        >
          <ion-icon
            [src]="
              'assets/icon/twitter' +
              (themeService.isDark ? '-dark' : '') +
              '.svg'
            "
          ></ion-icon>
        </ion-button>
      </div>
    </div>
  </ng-container>
  <ng-template #loading>
    <ion-spinner></ion-spinner>
  </ng-template>
</ion-content>
